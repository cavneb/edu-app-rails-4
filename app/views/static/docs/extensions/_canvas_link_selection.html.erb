<% content_for :head, javascript_include_tag("syntax_highlighter") %>
<% content_for :title, "Extensions - Canvas: Link Selection" %>

<div class="header clearfix">
  <h3 class="page-header">Canvas: Link Selection Extension</h3>
</div>

<h3>Introduction</h3>
<p>
  In Canvas you can configure an LTI tool to select LTI launch URLs as module items. See Canvas documentation for <a href="https://canvas.instructure.com/doc/api/file.link_selection_tools.html">more details</a>.
</p>
<p>
  The examples are very basic, really just enough to get the point of the extension across. If you are interested in seeing more advanced or practical implementations, check out <a href="/">the list of LTI apps on the home page</a>.
</p>

<hr>

<h3>Links in Modules Demo</h3>
<div class="row">
  <span class="col-sm-8">
      <p>
          This app allows the user to pick and insert custom content as a link
          in course modules. When inserting content into a module, if the
          user
          picks "External Tools" they'll see the configured app with a
          "find"
          icon. Clicking the app will bring up a new dialog where the user
          can pick/build content (in this case creating a page that shows an
          image of a fish with a user-specified name for the fish)
          to be inserted as a page or resource within
          the current module.
      </p>
      <p>
          Module linking apps can be configured at the course or account
          level.
          If the app is configured at the account level,
          then it will be available for any courses within that account.
      </p>
    <a class="label label-info" data-toggle="modal" href="#links-modal">xml
        configuration</a>
    <a class="label" href="https://canvas.instructure.com/doc/api/link_selection_tools.html">more
        information</a>
  </span>
  <span class="col-sm-4">
    <%= image_tag "resource_selection_example.png", class: "preview img-thumbnail" %>
  </span>
</div>

<div class="modal fade" id="links-modal">
  <div class="modal-dialog modal-wide">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Editor Button Configuration Example</h4>
      </div>
      <div class="modal-body">
        <pre class="brush: xml">
          <blti:title>I Like Fish</blti:title>
          <blti:description>I'm a big fan of fish, and I want to share the love</blti:description>
          <blti:extensions platform="canvas.instructure.com">
            <lticm:property name="tool_id">resource_selection</lticm:property>
            <lticm:property name="privacy_level">anonymous</lticm:property>
            <lticm:options name="resource_selection">
              <lticm:property name="url"><%= root_url %>tool_redirect?url=<%= CGI.escape('/name.html') %></lticm:property>
              <lticm:property name="text">Pick a Fish Name</lticm:property>
              <lticm:property name="selection_width">500</lticm:property>
              <lticm:property name="selection_height">300</lticm:property>
            </lticm:options>
          </blti:extensions>
        </pre>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<hr>

<h3>Combination Rich Editor Button and Module links Demo</h3>
<div class="row">
  <span class="col-sm-8">
      <p>
          This example shows configuring an app to serve multiple purposes
          at
          the same time. In this case, a single app can add both a fish
          icon to the rich editor, and the ability to add named fish pages
          to
          course modules.
      </p>
    <a class="label label-info" data-toggle="modal" href="#editor-button-links-modal">xml
        configuration</a>
    <a class="label" href="https://canvas.instructure.com/doc/api/tools_xml.html">more
        information</a>
  </span>
  <span class="col-sm-4">
  </span>
</div>

<div class="modal fade" id="editor-button-links-modal">
  <div class="modal-dialog modal-wide">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Editor Button &amp; Module Links Example</h4>
      </div>
      <div class="modal-body">
        <pre class="brush: xml">
          <blti:title>I Like Fish</blti:title>
          <blti:description>I'm a big fan of fish, and I want to share the love</blti:description>
          <blti:extensions platform="canvas.instructure.com">
            <lticm:property name="tool_id">editor_button_and_resource_selection</lticm:property>
            <lticm:property name="privacy_level">anonymous</lticm:property>
            <lticm:options name="editor_button">
              <lticm:property name="url"><%= root_url %>tool_redirect?url=<%= CGI.escape('/images.html') %></lticm:property>
              <lticm:property name="icon_url"><%= root_url %>examples/fish_icon.png</lticm:property>
              <lticm:property name="text">Pick a Fish</lticm:property>
              <lticm:property name="selection_width">500</lticm:property>
              <lticm:property name="selection_height">300</lticm:property>
            </lticm:options>
            <lticm:options name="resource_selection">
              <lticm:property name="url"><%= root_url %>tool_redirect?url=<%= CGI.escape('/name.html') %></lticm:property>
              <lticm:property name="text">Pick a Fish Name</lticm:property>
              <lticm:property name="selection_width">500</lticm:property>
              <lticm:property name="selection_height">300</lticm:property>
            </lticm:options>
          </blti:extensions>
        </pre>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->